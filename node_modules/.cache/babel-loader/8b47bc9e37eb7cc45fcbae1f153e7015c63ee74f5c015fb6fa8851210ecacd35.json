{"ast":null,"code":"var _jsxFileName = \"/home/maximilian/Desktop/Mini-Project/src/components/Reviews/index.js\",\n  _s = $RefreshSig$();\nimport '../About.css';\nimport { Rate } from './StarRating';\nimport booksData from '../../data/booksData';\nimport InputLabel from '@mui/material/InputLabel';\nimport About from '../About';\nimport React, { useEffect, useState, createContext, useContext } from 'react';\nimport axios from 'axios';\nimport '../Layout';\nimport StarRating from './StarRating';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Review = ({\n  review,\n  users\n}) => {\n  _s();\n  const {\n    title,\n    url,\n    author,\n    num_comments,\n    image,\n    points,\n    objectID\n  } = review;\n  const [reviewText, setReviewText] = useState('');\n  const handleTextChange = event => {\n    setReviewText(event.target.value); // Update state with the textarea value\n    setUserReviews(reviewText);\n  };\n  const [userReviews, setUserReviews] = useState([]);\n  const fetchUserReviews = () => {\n    axios.get('http://localhost:7000/users').then(response => {\n      setUserReviews(response.data); // Update state with the user data\n    }).catch(error => {\n      console.error('There was an error fetching the reviews!', error);\n    });\n  };\n\n  //call at beginning of function so that it immediately checks for users instead of only checking after the account is made\n\n  const [newRating, setNewRating] = useState(0);\n  const handleRatingChange = rating => {\n    setNewRating(rating); // Update the newRating state\n  };\n  const handleCreateReview = () => {\n    console.log(userReviews);\n    console.log(\"idk\" + newRating);\n    console.log(userId);\n    if (userLoggedIn) {\n      // setShow(false);\n      //add logic to send post to db in order to create a new user\n      //creating a new user in DB\n      axios.post('http://localhost:7000/register', {\n        id: userId,\n        review: userReviews,\n        stars: newRating,\n        created_at: 'now'\n      }).then(response => {\n        console.log(\"ADded review\", response.data);\n        fetchUserReviews();\n      }).catch(error => {\n        console.log(\"didnt add review\", error);\n      });\n    } else if (!userLoggedIn) {\n      alert(\"please log in\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"review-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reviewBig\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          className: \"reviewImage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reviewTitle\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reviewTitle\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"p-title\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: author\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          col: \"30\",\n          rows: \"20\",\n          type: \"text\",\n          id: \"reviewText\",\n          placeholder: \"Leave a Review!\",\n          value: reviewText,\n          onChange: handleTextChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rateStyle\",\n          children: /*#__PURE__*/_jsxDEV(Rate, {\n            starR: newRating,\n            onRatingChange: handleRatingChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"reviewButton\",\n          onClick: handleCreateReview,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 7\n  }, this);\n};\n_s(Review, \"hIwbkqwoKWDr/b4V513iVVPLLWw=\");\n_c = Review;\nexport default Review;\nvar _c;\n$RefreshReg$(_c, \"Review\");","map":{"version":3,"names":["Rate","booksData","InputLabel","About","React","useEffect","useState","createContext","useContext","axios","StarRating","jsxDEV","_jsxDEV","Review","review","users","_s","title","url","author","num_comments","image","points","objectID","reviewText","setReviewText","handleTextChange","event","target","value","setUserReviews","userReviews","fetchUserReviews","get","then","response","data","catch","error","console","newRating","setNewRating","handleRatingChange","rating","handleCreateReview","log","userId","userLoggedIn","post","id","stars","created_at","alert","className","children","src","fileName","_jsxFileName","lineNumber","columnNumber","col","rows","type","placeholder","onChange","starR","onRatingChange","onClick","_c","$RefreshReg$"],"sources":["/home/maximilian/Desktop/Mini-Project/src/components/Reviews/index.js"],"sourcesContent":["import '../About.css';\nimport { Rate } from './StarRating';\n\nimport booksData from '../../data/booksData';\nimport InputLabel from '@mui/material/InputLabel';\nimport About from '../About';\nimport React, { useEffect, useState, createContext, useContext } from 'react';\nimport axios from 'axios';\nimport '../Layout';\nimport StarRating from './StarRating';\nconst Review = ({ review, users}) => {\n    const {\n      title,\n      url,\n      author,\n      num_comments,\n      image,\n      points,\n      objectID,\n    } = review;\n\n    const [reviewText, setReviewText] = useState('');\n\n    const handleTextChange = (event) => {\n      setReviewText(event.target.value); // Update state with the textarea value\n      setUserReviews(reviewText);\n    };\n\n\n    const [userReviews, setUserReviews] = useState([]);\n\n    const fetchUserReviews = () => {\n      axios.get('http://localhost:7000/users')\n        .then(response => {\n           setUserReviews(response.data); // Update state with the user data\n        })\n        .catch(error => {\n          console.error('There was an error fetching the reviews!', error);\n        });\n    };\n    \n    //call at beginning of function so that it immediately checks for users instead of only checking after the account is made\n  \n    const [newRating, setNewRating] = useState(0);\n    \n    const handleRatingChange = (rating) => {\n      setNewRating(rating); // Update the newRating state\n    };\n    const handleCreateReview = () => {\n\n      console.log(userReviews)\n      console.log(\"idk\" + newRating);\n      console.log(userId);\n      if(userLoggedIn){\n      // setShow(false);\n      //add logic to send post to db in order to create a new user\n      //creating a new user in DB\n      axios.post('http://localhost:7000/register', {\n        id: userId,\n        review: userReviews,\n        stars: newRating,\n        created_at: 'now'\n\n      }).then(response => {\n        console.log(\"ADded review\", response.data);\n\n        fetchUserReviews();\n       }).catch(error => {\n        console.log(\"didnt add review\", error);\n      })\n      }\n      else if (!userLoggedIn){\n        alert(\"please log in\");\n      }   \n    };\n\n    \n    return (\n      <div className='review-container'>\n      <div className=\"reviewBig\">\n        <div>\n          <img src={image} className='reviewImage'></img>\n        </div>\n        <div className='reviewTitle'>\n          <div className='reviewTitle'>\n            <p id='p-title'>{title}</p>\n            <p>{author}</p>\n          </div>\n          <textarea\n            col =\"30\"\n            rows=\"20\"\n            type=\"text\"\n            id='reviewText'\n            placeholder=\"Leave a Review!\"\n            value={reviewText}\n            onChange={handleTextChange}\n          />\n          <div className = \"rateStyle\">\n            <Rate \n            starR = {newRating}\n            onRatingChange={handleRatingChange}\n            >  \n            </Rate>\n          </div>\n          <button id=\"reviewButton\" onClick={handleCreateReview}>Save</button>\n        </div>\n      </div>\n\n      </div>\n    );\n  }\n\n\n  export default Review;\n\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}